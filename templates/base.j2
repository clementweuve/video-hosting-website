<!doctype html>
<html lang="en">
  <head>
    <title>{%block title%}{%endblock%}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet"  href="{{ url_for('static', filename='style.css') }}" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='icon.png') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="popup menu-background" id="popup">
      {%block popup%}
      {%endblock%}
    </div>
    <nav id="nav-menu" class="menu-background center">
      <ul class="nav-menu-items">
        <div id="navbar-toggle">
          <a href="#" class="menu-bars center" id="hide-menu">
            <svg class="icon svg" xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" fill="none">
              <path fill="currentcolor" d="M103-212v-94h754v94H103Zm0-221v-94h754v94H103Zm0-221v-95h754v95H103Z"/>
            </svg>
          </a>
          <a href="/">
            <h4 class="title-header"><img src="../static/icon.png" width="50px">Anata</h4>
          </a>
        </div>
        <hr>
        <div class="nav-section">
          <li>
            <a href="/" class="nav-a">
              <svg height="40" viewBox="0 -960 960 960" width="40" fill="none"><path d="M229-189h124v-258h254v258h124v-377L480-754 229-565.667V-189Zm-94 94v-518l345-259 346 259v518H524v-269h-88v269H135Zm345-377Z" fill="currentcolor"/></svg>
              <h5>Home</h5>
            </a>
          </li>
          <li>
            <a href="/subscriptions" class="nav-a">
              <svg class="nav-icon" height="40" viewBox="0 -960 960 960" width="40" fill="none"><path d="M149-55q-39.05 0-66.525-27.475Q55-109.95 55-149v-422q0-39.463 27.475-67.231Q109.95-666 149-666h662q39.463 0 67.231 27.769Q906-610.463 906-571v422q0 39.05-27.769 66.525Q850.463-55 811-55H149Zm0-94h662v-422H149v422Zm258-62 221-149-221-148v297ZM149-726v-60h662v60H149Zm131-120v-60h400v60H280ZM149-149v-422 422Z" fill="currentcolor"/></svg>
              <h5>Subscriptions</h5>
            </a>
          </li>
        </div>
        <hr>
        <div class="nav-section">
          <li>
            <a href="/upload" class="nav-a">
              <svg class="nav-icon" height="40" viewBox="0 -960 960 960" width="40" fill="none"><path d="M220-160q-24 0-42-18t-18-42v-143h60v143h520v-143h60v143q0 24-18 42t-42 18H220Zm230-153v-371L330-564l-43-43 193-193 193 193-43 43-120-120v371h-60Z" fill="currentcolor"/></svg>
              <h5>Upload</h5>
            </a>
          </li>
          <li>
            {% if account_connecter==true %}
            <a href="/channel/{{user_account[0]}}" class="nav-a">
            <svg class="nav-icon" height="40" viewBox="0 -960 960 960" width="40" fill="none"><path d="M222-255q63-44 125-67.5T480-346q71 0 133.5 23.5T739-255q44-54 62.5-109T820-480q0-145-97.5-242.5T480-820q-145 0-242.5 97.5T140-480q0 61 19 116t63 109Zm257.814-195Q422-450 382.5-489.686q-39.5-39.686-39.5-97.5t39.686-97.314q39.686-39.5 97.5-39.5t97.314 39.686q39.5 39.686 39.5 97.5T577.314-489.5q-39.686 39.5-97.5 39.5Zm.654 370Q398-80 325-111.5q-73-31.5-127.5-86t-86-127.266Q80-397.532 80-480.266T111.5-635.5q31.5-72.5 86-127t127.266-86q72.766-31.5 155.5-31.5T635.5-848.5q72.5 31.5 127 86t86 127.032q31.5 72.532 31.5 155T848.5-325q-31.5 73-86 127.5t-127.032 86q-72.532 31.5-155 31.5ZM480-140q55 0 107.5-16T691-212q-51-36-104-55t-107-19q-54 0-107 19t-104 55q51 40 103.5 56T480-140Zm0-370q34 0 55.5-21.5T557-587q0-34-21.5-55.5T480-664q-34 0-55.5 21.5T403-587q0 34 21.5 55.5T480-510Zm0-77Zm0 374Z" fill="currentcolor"/></svg>
              <h5>My account</h5>
            </a>
            {%else%}
            <a href="/login" class="nav-a">
              <svg class="nav-icon" height="40" viewBox="0 -960 960 960" width="40" fill="none"><path d="M222-255q63-44 125-67.5T480-346q71 0 133.5 23.5T739-255q44-54 62.5-109T820-480q0-145-97.5-242.5T480-820q-145 0-242.5 97.5T140-480q0 61 19 116t63 109Zm257.814-195Q422-450 382.5-489.686q-39.5-39.686-39.5-97.5t39.686-97.314q39.686-39.5 97.5-39.5t97.314 39.686q39.5 39.686 39.5 97.5T577.314-489.5q-39.686 39.5-97.5 39.5Zm.654 370Q398-80 325-111.5q-73-31.5-127.5-86t-86-127.266Q80-397.532 80-480.266T111.5-635.5q31.5-72.5 86-127t127.266-86q72.766-31.5 155.5-31.5T635.5-848.5q72.5 31.5 127 86t86 127.032q31.5 72.532 31.5 155T848.5-325q-31.5 73-86 127.5t-127.032 86q-72.532 31.5-155 31.5ZM480-140q55 0 107.5-16T691-212q-51-36-104-55t-107-19q-54 0-107 19t-104 55q51 40 103.5 56T480-140Zm0-370q34 0 55.5-21.5T557-587q0-34-21.5-55.5T480-664q-34 0-55.5 21.5T403-587q0 34 21.5 55.5T480-510Zm0-77Zm0 374Z" fill="currentcolor"/></svg>
              <h5>Login</h5>
            </a>
            {%endif%}
          </li>
        </div>
        {%if account_connecter==true%}
        <hr>
        <div class="nav-section-subs">
        <h4>Subscriptions</h4>
        {% if subscriptions|length > 0 %}
          {%for sub in subscriptions%}
            <div class="navbar-sub">
              <a href="/channel/{{sub[0]}}">
                <h5><img src="../static/profile_pictures/{{sub[4]}}" width="24px" height="24px" class="account-button-header">{{sub[1]}}</h5>
              </a>
            </div>
          {%endfor%}
        {%else%}
          <h5>No subscriptions</h5>
          {%endif%}
        </div>
        {%endif%}
      </ul>
    </nav>
    <div id="black-box">
    </div>
    <header>
      {%include "header.j2"%}
    </header>
    <main>
      {%block body%}
      {%endblock%}
    </main>
    <footer>
      {%include "footer.j2"%}
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
    </script>
    <script src="../static/js_scripts/navbar.js"></script>
    <script src="../static/js_scripts/account-header-dropdown.js"></script>
    <script src="../static/js_scripts/popup.js"></script>
    <script src="../static/js_scripts/darkmode.js"></script>
  {%block script%}
  {%endblock%}
  <script>
    function copyLink() {
        if (navigator.share) {
            navigator.share({
                title: document.title,
                url: window.location.href
            })
        }
        else{
            /* Copy text into clipboard */
            navigator.clipboard.writeText(window.location.href)
            alert("URL copied !")
        }
    }
</script>
  </body>
</html>